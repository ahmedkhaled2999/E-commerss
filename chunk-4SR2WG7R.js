import{a as E}from"./chunk-KUWK3M2Q.js";import{a as k}from"./chunk-MCBV2JT7.js";import{a as D}from"./chunk-SL65HBKQ.js";import{a as j}from"./chunk-LAM2ZU2R.js";import{a as F,b as O,c as M}from"./chunk-JNA3SYUH.js";import"./chunk-WXI33M2S.js";import{e as P}from"./chunk-J4TU2KZ2.js";import"./chunk-4K6FQLZF.js";import{Ab as c,Bb as y,Gb as T,Ia as g,Ma as r,Na as l,V as v,Z as _,ab as u,cb as h,eb as w,gb as S,hb as x,ib as C,jb as b,kb as n,lb as o,mb as p,rb as f,sb as I,zb as d}from"./chunk-TXPC7SVX.js";import"./chunk-TMC7WMLO.js";function z(s,a){if(s&1&&p(0,"img",12),s&2){let A=I().$implicit;h("src",A,g)}}function B(s,a){s&1&&u(0,z,1,1,"ng-template",3)}function R(s,a){s&1&&p(0,"i",11)}function U(s,a){s&1&&d(0," add to cart ")}var X=(()=>{let a=class a{constructor(t,e,i,m){this._activatedRoute=t,this._productsService=e,this._cartapiService=i,this._whishlistService=m,this.addwhishred=!1,this.switc=!0,this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,autoplay:!0,dots:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!1},this.isloading=!1,this.toster=v(k),t.params.subscribe({next:L=>{this.productid=L.id}})}ngOnInit(){this.getproductdetails()}getproductdetails(){this._productsService.productsdetails(this.productid).subscribe({next:t=>{console.log(t),this.productdetails=t.data}})}addproducttocart(t){this.isloading||(this.isloading=!0,this._cartapiService.getcart(t).subscribe({next:e=>{console.log(e),this._cartapiService.numberofcartIitem.next(e.numOfCartItems),this.toster.success(e.message),this.isloading=!1},error:e=>{console.log(e),this.isloading=!1}}))}addwhich(t){this._whishlistService.addwhish(t).subscribe({next:e=>{console.log(e),this.whishListiteam=e.data,this._whishlistService.countwhish.next(this.whishListiteam.length),this.addwhishred=!0,this.switc=!1}})}deletwhish(t){this._whishlistService.deletwhish(t).subscribe({next:e=>{console.log(e),this.addwhishred=!1,this.switc=!0}})}adddelete(t){this.switc==!0?this.addwhich(t):this.switc==!1&&this.deletwhish(t)}};a.\u0275fac=function(e){return new(e||a)(l(P),l(E),l(j),l(D))},a.\u0275cmp=_({type:a,selectors:[["app-productsdetails"]],standalone:!0,features:[T],decls:22,vars:9,consts:[[1,"flex","items-center","flex-wrap"],[1,"w-2/4","lg:w-1/4"],[3,"options"],["carouselSlide",""],[1,"w-2/4","lg:w-3/4"],[1,"text-3xl","mb-3","font-extrabold"],[1,"text-green-400"],[1,"flex","justify-between"],[1,"fa","fa-star","text-yellow-200"],[1,"ms-4","fa-solid","fa-heart",3,"click"],[1,"btn","mt-5",3,"click"],[1,"fa","fa-spinner","fa-spin"],[3,"src"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"owl-carousel-o",2),C(3,B,1,0,null,3,x),o()(),n(5,"div",4)(6,"h1",5),d(7),o(),n(8,"p"),d(9),o(),n(10,"span",6),d(11),o(),n(12,"div",7)(13,"p"),d(14),o(),n(15,"p"),d(16),p(17,"i",8),n(18,"i",9),f("click",function(){return i.adddelete(i.productdetails.id)}),o()()(),n(19,"button",10),f("click",function(){return i.addproducttocart(i.productdetails.id)}),u(20,R,1,0,"i",11)(21,U,1,0),o()()()),e&2&&(r(2),h("options",i.customOptions),r(),b(i.productdetails.images),r(4),c(i.productdetails.title),r(2),c(i.productdetails.description),r(2),c(i.productdetails.category.name),r(3),c(i.productdetails.price),r(2),y(" ",i.productdetails.ratingsAverage," "),r(2),w("text-red-600",i.addwhishred),r(2),S(20,i.isloading?20:21))},dependencies:[M,O,F]});let s=a;return s})();export{X as ProductsdetailsComponent};
