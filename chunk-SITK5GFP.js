import{a as R}from"./chunk-7UD7IYR2.js";import{a as E,b as f,c as T,d as L,e as A,f as h,h as N,i as I,j as D,m as F}from"./chunk-AMKXYPOF.js";import{g as S,h as k}from"./chunk-J4TU2KZ2.js";import{Ab as w,Gb as y,Ma as s,Na as _,Z as v,ab as m,cb as b,gb as d,kb as o,lb as l,mb as g,rb as C,sb as x,zb as r}from"./chunk-TXPC7SVX.js";import"./chunk-TMC7WMLO.js";function q(e,t){if(e&1&&(o(0,"div",0)(1,"span",13),r(2),l()()),e&2){let n=x();s(2),w(n.errormessege)}}function G(e,t){e&1&&(o(0,"div",0)(1,"span",13),r(2," email is Reqired "),l()())}function z(e,t){e&1&&(o(0,"div",0)(1,"span",13),r(2,"please enter valid email"),l()())}function M(e,t){if(e&1&&m(0,G,3,0,"div",0)(1,z,3,0),e&2){let n,i=x();d(0,!((n=i.loginform.get("email"))==null||n.errors==null)&&n.errors.required?0:!((n=i.loginform.get("email"))==null||n.errors==null)&&n.errors.email?1:-1)}}function j(e,t){e&1&&(o(0,"div",0)(1,"span",13),r(2," password is Reqired "),l()())}function V(e,t){e&1&&(o(0,"div",0)(1,"span",13),r(2,"please enter password max lengt 7 T LEAST ONE CARACTER CAPITAL LIKE THISE AHMED2"),l()())}function H(e,t){if(e&1&&m(0,j,3,0,"div",0)(1,V,3,0),e&2){let n,i=x();d(0,!((n=i.loginform.get("password"))==null||n.errors==null)&&n.errors.required?0:!((n=i.loginform.get("password"))==null||n.errors==null)&&n.errors.pattern?1:-1)}}function P(e,t){e&1&&g(0,"i",10)}function K(e,t){e&1&&r(0,"log in")}function O(e,t){e&1&&(o(0,"p"),r(1,"you dont have any account "),o(2,"a",14),r(3,"forgetpass"),l()())}var W=(()=>{let t=class t{constructor(i,u){this._auth=i,this._router=u,this.errormessege="",this.isloadin=!1,this.callingapi=!1,this.loginform=new A({email:new h(null,[f.required,f.email]),password:new h(null,[f.required,f.pattern(/^[A-Z][a-z0-9]{3,5}$/)])})}sendData(){this.loginform.valid?(this.callingapi=!0,this.isloadin=!0,console.log(this.loginform),this._auth.signIN(this.loginform.value).subscribe({next:i=>{console.log(i.token),localStorage.setItem("usertoken",i.token),this._auth.userinfo(),this._router.navigate(["/home"]),this.callingapi=!1,this.isloadin=!1},error:i=>{console.log(i.error.message),this.errormessege=i.error.message,this.isloadin=!1,this.callingapi=!1}})):this.loginform.markAllAsTouched()}};t.\u0275fac=function(u){return new(u||t)(_(R),_(S))},t.\u0275cmp=v({type:t,selectors:[["app-login"]],standalone:!0,features:[y],decls:23,vars:7,consts:[["role","alert",1,"p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],[1,"max-w-md","mx-auto","h-[50vh]","md:h-[100vh]","flex","justify-center","items-center","p-2",3,"ngSubmit","formGroup"],[1,"w-full"],[1,"relative","z-0","w-full","mb-5","group"],["formControlName","email","type","email","name","floating_email","id","floating_email","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-blue-500","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_email",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["formControlName","password","type","password","name","floating_password","id","floating_password","placeholder"," ",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-blue-500","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_password",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"flex","flex-wrap","text-center","items-center","gap-3"],["type","submit",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"disabled"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"flex","flex-col","w-full","md:w-[80%]"],["routerLink","/regester",1,"uppercase","font-bold","text-green-500"],[1,"font-medium"],["routerLink","/forgetpass",1,"uppercase","font-bold","text-red-800"]],template:function(u,a){if(u&1&&(m(0,q,3,1,"div",0),o(1,"form",1),C("ngSubmit",function(){return a.sendData()}),o(2,"div",2)(3,"div",3),g(4,"input",4),o(5,"label",5),r(6,"Email address"),l()(),m(7,M,2,1),o(8,"div",3),g(9,"input",6),o(10,"label",7),r(11,"Password"),l()(),m(12,H,2,1),o(13,"div",8)(14,"button",9),m(15,P,1,0,"i",10)(16,K,1,0),l(),o(17,"div",11)(18,"p"),r(19,"you dont have any account "),o(20,"a",12),r(21,"regester now"),l()(),m(22,O,4,0,"p"),l()()()()),u&2){let p,c;d(0,a.errormessege?0:-1),s(),b("formGroup",a.loginform),s(6),d(7,(p=a.loginform.get("email"))!=null&&p.errors&&((p=a.loginform.get("email"))!=null&&p.touched)?7:-1),s(5),d(12,(c=a.loginform.get("password"))!=null&&c.errors&&((c=a.loginform.get("password"))!=null&&c.touched)?12:-1),s(2),b("disabled",a.callingapi),s(),d(15,a.isloadin?15:16),s(7),d(22,a.errormessege?22:-1)}},dependencies:[F,N,E,T,L,I,D,k]});let e=t;return e})();export{W as LoginComponent};
